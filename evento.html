<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evento</title>
</head>

<body>
    <script>

        var nomeHotel = "hotelzinho";
        var num_convidados;

        //RELATORIO------------------------------------------------------------------------------------------------------------
        var auditorio_escolhido;
        var nome_empresa;

        var dia_da_semana_texto;
        var hora_escolhida;
        var duracao_do_evento;

        var garcons_necessarios;
        var custoTotal_garcons;
        var custoTotal_comida;




        // Função para iniciar o sistema e exibir o menu principal
        function inicio_evento() {
            var escolhas_evento = parseInt(prompt(`Evento no ${nomeHotel}\nSelecione a etapa:\n\n 1.auditorio\n 2.horario\n 3.Gastos Garçons\n 4.Gastos Buffet\n 5.Relatório\n 6.Sair`));

            switch (escolhas_evento) {
                case 1:
                    alert('Você escolheu a opção auditório');
                    escolha_auditorio();
                    break;
                case 2:
                    alert('Você escolheu a opção horário');
                    horario();
                    break;
                case 3:
                    alert('Você está na opção gastos garçons');
                    gastos_evento_garcons();
                    break;
                case 4:
                    alert("Você está na opção gastos buffet");
                    gastos_evento_buffet();
                case 5:
                    alert('Você escolheu ver o relatório final');
                    relatorio_final();
                    break
                case 6:
                    alert('Você escolheu sair');
                    sair()
                    break;
                default:
                    erro();
            }
        }

        // AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        function escolha_auditorio() {
            // O auditório Laranja conta com 150 lugares e espaço para até 70 cadeiras adicionais. 
            var lugares_laranja = 150; // Definindo o número de lugares no auditório Laranja
            var total_maximo_laranja = 220;
            // O auditório Colorado conta com 350 lugares, sem espaço para mais cadeiras. 
            var auditorio_colorado = 350;

            // Recebe o número de convidados
            num_convidados = parseInt(prompt("Qual o número de convidados para o seu evento?"));

            if (num_convidados < 0 || num_convidados > auditorio_colorado || isNaN(num_convidados)) {
                alert("Quantidade de convidados superior à capacidade máxima");
            }

            else {
                // Verifica qual auditório é o mais adequado
                if (num_convidados <= total_maximo_laranja) {
                    // Auditório Laranja
                    auditorio_escolhido = "Laranja";
                    var cadeiras_adicionais_necessarias = num_convidados - lugares_laranja;
                    var quantidade_necessaria = (cadeiras_adicionais_necessarias > 0) ? `(inclua mais ${cadeiras_adicionais_necessarias} cadeiras)` : '';
                    alert("Use o auditório Laranja " + quantidade_necessaria);
                    inicio_evento();
                }

                else {
                    // Auditório Colorado
                    auditorio_escolhido = "Colorado";
                    alert("Use o auditório Colorado");
                    inicio_evento();
                }
            }
        }

        function horario() {
            var dia_da_semana = prompt('Qual o dia do evento?\nSelecione uma das opçôes:\n\n segunda-feira (seg)\n terça-feira (ter)\n quarta-feira (qua)\n quinta-feira (qui)\n sexta-feira (sex)\n sábado (sab)\n domingo (dom)\n\n se quiser voltar para o menu escreva: "voltar');

            switch (dia_da_semana) {
                case "seg":
                    dia_da_semana_texto = "Segunda";
                    durante_a_semana(dia_da_semana_texto); // Chama a função durante_a_semana() 
                    break;
                case "ter":
                    dia_da_semana_texto = "Terça";
                    durante_a_semana(dia_da_semana_texto); // Chama a função durante_a_semana()
                    break;
                case "qua":
                    dia_da_semana_texto = "Quarta";
                    durante_a_semana(dia_da_semana_texto); // Chama a função durante_a_semana() 
                    break;
                case "qui":
                    dia_da_semana_texto = "Quinta";
                    durante_a_semana(dia_da_semana_texto); // Chama a função durante_a_semana() 
                    break;
                case "sex":
                    dia_da_semana_texto = "Sexta";
                    durante_a_semana(dia_da_semana_texto); // Chama a função durante_a_semana() 
                    break;
                case "sab":
                    dia_da_semana_texto = "Sábado";
                    fim_de_semana(dia_da_semana_texto); // Chama a função fim_de_semana() 
                    break;
                case "dom":
                    dia_da_semana_texto = "Domingo";
                    fim_de_semana(dia_da_semana); // Chama a função fim_de_semana() 
                    break;
                case "s":
                    alert('Você escolheu sair');
                    sair();
                    break;
                default:
                    erro();
            }
        }
        var hora_disponivel = []

        function durante_a_semana(dia_da_semana_texto) {
            hora_escolhida = parseInt(prompt("Qual a hora do seu evento?"));
            if (hora_escolhida >= 7 && hora_escolhida <= 23) {
                alert("Auditório disponível");
                hora_disponivel.push(hora_escolhida);

                nome_empresa = prompt("Qual o nome da empresa?");
                alert(`Auditório reservado para ${nome_empresa}. ${dia_da_semana_texto} às ${hora_escolhida}hs.`);
                inicio_evento();
            }
            else if (hora_escolhida < 7 || hora_escolhida > 23) {
                alert("Auditório indisponível (7h - 23h).");
                durante_a_semana(dia_da_semana_texto); // Chama a função novamente se a hora escolhida estiver fora do horário disponível
            }
            else {
                alert("Hora inválida. Por favor, informe um número entre 7 e 23.");
                durante_a_semana(dia_da_semana_texto); // Chama a função novamente se a hora escolhida for inválida
            }
        }

        function fim_de_semana(dia_da_semana_texto) {
            var hora_escolhida = parseInt(prompt("Qual a hora do seu evento?"));
            if (hora_escolhida >= 7 && hora_escolhida <= 15) {
                alert("Auditório disponível");
                hora_disponivel.push(hora_escolhida);

                var nome_empresa = prompt("Qual o nome da empresa?");
                alert(`Auditório reservado para ${nome_empresa}. ${dia_da_semana_texto} às ${hora_escolhida}hs.`);
                inicio_evento();
            }
            else if (hora_escolhida < 7 || hora_escolhida > 15) {
                alert("Auditório indisponível (7h - 15h).");
                fim_de_semana(dia_da_semana_texto); // Chama a função novamente se a hora escolhida estiver fora do horário disponível
            } else {
                alert("Hora inválida. Por favor, informe um número entre 7 e 15.");
                fim_de_semana(dia_da_semana_texto); // Chama a função novamente se a hora escolhida estiver fora do horário disponível
            }

        }

        function gastos_evento_garcons() {
            duracao_do_evento = parseInt(prompt("Qual a duração do evento em horas?"))

            // Um garçom para cada 12 convidados, arredondando para cima
            garcons_necessarios = Math.ceil(num_convidados / 12);

            // Calcular a quantidade adicional de garçons com base na duração do evento
            var garcons_adicionais = Math.floor(duracao_do_evento / 2);

            // Somar os garçons necessários com os adicionais
            var total_garcons_necessarios = garcons_necessarios + garcons_adicionais;

            // Calcular o custo total dos garçons
            var custoTotal_garcons = (total_garcons_necessarios * 10.5) * duracao_do_evento;

            alert(`São necessários ${total_garcons_necessarios} garçons.`);
            alert(`Custo total: R$${custoTotal_garcons.toFixed(2)}`);

            alert(`Agora vamos calcular o custo do buffet do hotel para o evento.`)
            inicio_evento();
        }

        function gastos_evento_buffet() {
            // A quantidade de café, em litros, é calculada como 0,2 litro para cada convidado; a quantidade de água é calculada como 0,5 litro para cada convidado; são oferecidos 7 salgados por pessoa.

            // Com a quantidade de convidados informada na Parte 1, calcule a quantidade de água, café e salgados para o evento, mostrando em tela esses valores.
            // Sabendo que cada litro de café custa, 0,80 centavos, cada litro de água custa 0,40 centavos e o cento de salgados custa 34 reais, calcule o custo total com comida do evento. 

            // Exemplo:
            // Programa exibe =>  "O evento precisará de 20 litros de café, 50 litros de água, 700 salgados.
            var quant_cafe = Math.ceil(num_convidados * 0.2);
            var custoTotal_cafe = quant_cafe * 0.8;

            var quant_agua = Math.ceil(num_convidados * 0.5);
            var custoTotal_agua = quant_agua * 0.4;

            var quant_salgado = num_convidados * 7;
            var custoTotal_salgado = quant_salgado * (34 / 100);

            // Mostrar os resultados
            alert(`O evento precisará de ${quant_cafe} litros de café, ${quant_agua} litros de água e ${quant_salgado} salgados.`);
            console.log(`O custo total com café será de R$ ${custoTotal_cafe.toFixed(2)}, com água será de R$ ${custoTotal_agua.toFixed(2)} e com salgados será de R$ ${custoTotal_salgado.toFixed(2)}.`);

            // Calcular o custo total com comida do evento
            custoTotal_comida = custoTotal_cafe + custoTotal_agua + custoTotal_salgado;
            console.log(`O custo total com comida do evento será de R$ ${custoTotal_comida.toFixed(2)}.`);
            inicio_evento();
        }


        // Exemplo: 
        // function relatorio_final() {
        //     // var relatorio = `Evento no Auditório ${auditorio_escolhido}.\n`;

        //             // Evento no Auditório Colorado.
        //     alert(`Evento no Auditório ${auditorio_escolhido}.\n`);
        //             // Nome da Empresa: Hotel Transivânia.
        //     alert(`Nome da empresa: ${nome_empresa}\n`);
        //     var horario_encerramento = hora_escolhida + duracao_do_evento;
        //             // Data: Segunda, 13H às 21h.
        //     alert(`Data: ${dia_da_semana_texto}. ${hora_escolhida}H às ${horario_encerramento}H.\n`);
        //             // Duração do evento: 8H.
        //     alert(`Duração do evento: ${duracao_do_evento}\n`);
        //             // Quantidade de garçons: 48.
        //     alert(`Quantidade de garçons: ${garcons_necessarios}\n`);
        //             // Quantidade de Convidados: 192
        //     alert(`Quantidade de Convidados: ${num_convidados}\n\n`);

        //     // Custo do garçons: R$504.00
        //     alert(`Custo do garçons:: R$${custoTotal_garcons.toFixed.toFixed(2)}`);
        //     // Custo do Buffet: R$274.00
        //     alert(` Custo do Buffet: R$${custoTotal_comida.toFixed(2)}`);
        //     var custoTotal_evento = custoTotal_garcons + custoTotal_comida
        //     // Valor total do Evento: R$ 778.00
        //     alert(` Valor total do Evento: R$${custoTotal_evento.toFixed(2)}`);
        // }

        function relatorio_final() {
            var horario_encerramento = hora_escolhida + duracao_do_evento;
            var custoTotal_evento = custoTotal_garcons + custoTotal_comida;

            var relatorio = `Evento no Auditório ${auditorio_escolhido}.\n`;
            relatorio += `Nome da empresa: ${nome_empresa}\n`;
            relatorio += `Data: ${dia_da_semana_texto}. ${hora_escolhida}H às ${horario_encerramento}H.\n`;
            relatorio += `Duração do evento: ${duracao_do_evento}H.\n`;
            relatorio += `Quantidade de garçons: ${total_garcons_necessarios}\n`;
            relatorio += `Quantidade de Convidados: ${num_convidados}\n`;
            relatorio += `Custo do garçons: R$${custoTotal_garcons.toFixed(2)}\n`;
            relatorio += `Custo do Buffet: R$${custoTotal_comida.toFixed(2)}\n\n`;
            relatorio += `Valor total do Evento: R$${custoTotal_evento.toFixed(2)}`;

            alert(relatorio);

            var informar_situacao = prompt("Gostaria de efetuar a reserva? S/N");

            // Converter a entrada do usuário para minúsculas
            informar_situacao = informar_situacao.toUpperCase();

            if (informar_situacao == 'S') {
                alert(` reserva efetuada com sucesso`)
                
            }
            else if (informar_situacao == 'N') {
                alert("Reserva não efetuada.")
            }
            else {
                alert("Por favor, informe um valor valido.")
                relatorio_final();
            }
        }





        function sair() {
            alert(`Muito obrigado(a) e até logo!`);
        }

        function erro() {
            alert('Por favor, informe um valor aceitável');
            horario();
        }

        // TESTES
        // horario();


        inicio_evento();


    </script>
</body>

</html>
